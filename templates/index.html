<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GreenScan - Анализ состояния зелёных насаждений</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#9ACD32',
                        secondary: '#059669',
                        dark: '#065f46',
                        light: '#d1fae5',
                        oliv: '#6B8E23',
                        dgreen: '#244a11'
                    }
                }
            }
        }
    </script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        html {
            scroll-behavior: smooth;
        }
        
        .smooth-scroll {
            scroll-margin-top: 2rem;
        }
        
        /* Анимация кнопок */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        /* Стили для плавного появления элементов при прокрутке */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* стиль для полосы прокрутки */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #244a11;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #244a11;
        }
        
        /* Стили для таблицы результатов */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
        }
        
        .results-table th, .results-table td {
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid #e5e7eb;
            vertical-align: middle;
        }
        
        .results-table th {
            background-color: #f9fafb;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .results-table tr:hover {
            background-color: #f3f4f6;
        }
        
        .risk-low {
            color: #059669;
            font-weight: 500;
        }
        
        .risk-medium {
            color: #d97706;
            font-weight: 500;
        }
        
        .risk-high {
            color: #dc2626;
            font-weight: 500;
        }
        
        .btn-details {
            background-color: #9ACD32;
            color: white;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .btn-details:hover {
            background-color: #7cb305;
        }
        
        .btn-export {
            background-color: #6B8E23;
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        
        .btn-export:hover {
            background-color: #5a751c;
        }
        
        .btn-export i {
            margin-right: 8px;
        }

        /* Стили для адаптивных изображений */
        #originalImage, #resultImage {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px;
            padding: 1rem;
        }

        #originalImage img, #resultImage img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        #originalImage img:hover, #resultImage img:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        /* Убираем серый фон когда есть изображение */
        #originalImage:has(img), #resultImage:has(img) {
            background: transparent;
            padding: 0;
        }

        /* Контейнеры подстраиваются под контент */
        .image-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Hero Section -->
    <div class="relative h-screen flex items-center justify-center bg-gradient-to-br from-primary to-dark text-white overflow-hidden">
        <div class="absolute inset-0 bg-black opacity-30"></div>
        <!-- Заменённое фоновое изображение -->
        <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1500470354667-22b6b4e8bc59?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80')] bg-cover bg-center"></div>
        
        <div class="relative z-10 text-center max-w-4xl px-4" data-aos="fade-up">
            <h1 class="text-5xl md:text-7xl font-bold mb-6">GreenScan</h1>
            <p class="text-xl md:text-2xl mb-8">Инновационная система анализа состояния зелёных насаждений с помощью нейросетей</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="#demo" class="demo-btn bg-white text-primary px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition duration-300 pulse-animation">
                    Попробовать демо
                </a>
                <a href="#about" class="about-btn border-2 border-white px-8 py-3 rounded-full font-semibold hover:bg-white hover:text-primary transition duration-300">
                    Узнать больше
                </a>
            </div>
        </div>
        
        <!-- Индикатор прокрутки -->
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2">
            <div class="animate-bounce">
                <i data-feather="chevron-down" class="w-8 h-8 text-white"></i>
            </div>
        </div>
    </div>

    <!-- About Section -->
    <section id="about" class="smooth-scroll py-20 px-4">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-16 fade-in" data-aos="fade-up">
                <h2 class="text-3xl md:text-4xl font-bold text-dark mb-4">Технология будущего для зелёных городов</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Современное решение для автоматического анализа состояния деревьев и кустарников 
                    с использованием искусственного интеллекта
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <div class="text-center fade-in" data-aos="fade-up" data-aos-delay="100">
                    <div class="bg-light rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6">
                        <i data-feather="camera" class="text-primary w-10 h-10"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-4">Анализ фотографий</h3>
                    <p class="text-gray-600">Загружайте фотографии деревьев для мгновенного анализа состояния</p>
                </div>

                <div class="text-center fade-in" data-aos="fade-up" data-aos-delay="200">
                    <div class="bg-light rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6">
                        <i data-feather="cpu" class="text-primary w-10 h-10"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-4">Искусственный интеллект</h3>
                    <p class="text-gray-600">Мощные нейросети точно определяют состояние растений</p>
                </div>

                <div class="text-center fade-in" data-aos="fade-up" data-aos-delay="300">
                    <div class="bg-light rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6">
                        <i data-feather="alert-triangle" class="text-primary w-10 h-10"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-4">Выявление опасностей</h3>
                    <p class="text-gray-600">Автоматическое обнаружение потенциально опасных деревьев</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Demo Section -->
    <section id="demo" class="smooth-scroll py-20 bg-gray-100 px-4">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-16 fade-in" data-aos="fade-up">
                <h2 class="text-3xl md:text-4xl font-bold text-dark mb-4">Попробуйте демо-версию</h2>
                <p class="text-lg text-gray-600">Загрузите фотографию дерева для анализа</p>
            </div>

            <div class="bg-white rounded-2xl shadow-xl p-8 fade-in" data-aos="fade-up">
                <div class="border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-primary transition duration-300">
                    <i data-feather="upload-cloud" class="w-16 h-16 text-gray-400 mx-auto mb-4"></i>
                    <p class="text-gray-600 mb-4">Перетащите фотографию сюда или нажмите для выбора</p>
                    <input type="file" accept="image/*" class="hidden" id="fileInput">
                    <button onclick="document.getElementById('fileInput').click()" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-secondary transition duration-300">
                        Выбрать файл
                    </button>
                </div>
                
                <div class="mt-8 space-y-8">
                    <div>
                        <h4 class="text-lg font-semibold mb-4">Исходное изображение</h4>
                        <div class="bg-gray-200 rounded-lg overflow-hidden">
                            <div id="originalImage" class="flex items-center justify-center p-4 min-h-48">
                                <span class="text-gray-500">Изображение появится здесь</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h4 class="text-lg font-semibold mb-4">Результаты анализа</h4>
                        <div class="bg-gray-200 rounded-lg overflow-hidden">
                            <div id="resultImage" class="flex items-center justify-center p-4 min-h-48">
                                <span class="text-gray-500">Результаты появятся здесь</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-8">
                    <button id="analyzeBtn" class="bg-primary text-white px-8 py-3 rounded-lg font-semibold hover:bg-secondary transition duration-300 w-full">
                        Запустить анализ
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section id="results" class="smooth-scroll py-20 px-4">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-8 fade-in" data-aos="fade-up">
                <h2 class="text-3xl md:text-4xl font-bold text-dark mb-4">Детализация результатов</h2>
            </div>

            <div class="bg-white rounded-2xl shadow-xl p-8 fade-in" data-aos="fade-up">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Вид</th>
                            <th>Порода</th>
                            <th>Уверенность</th>
                            <th>Состояние</th>
                            <th>Уверенность</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Данные будут добавляться через JavaScript -->
                        <tr id="noResultsRow">
                            <td colspan="6" class="text-center py-8 text-gray-500">
                                Загрузите изображение для анализа
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <section class="py-20 px-4">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-16 fade-in" data-aos="fade-up">
                <h2 class="text-3xl md:text-4xl font-bold text-dark mb-4">Возможности системы</h2>
            </div>

            <div class="grid md:grid-cols-2 gap-12">
                <div data-aos="fade-right">
                    <div class="flex items-start mb-6 fade-in">
                        <div class="bg-light rounded-full p-3 mr-4">
                            <i data-feather="check-circle" class="text-primary w-6 h-6"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold mb-2 text-dark">Оценка здоровья растений</h3>
                            <p class="text-gray-600">Определение общего состояния дерева по визуальным признакам</p>
                        </div>
                    </div>

                    <div class="flex items-start mb-6 fade-in">
                        <div class="bg-light rounded-full p-3 mr-4">
                            <i data-feather="check-circle" class="text-primary w-6 h-6"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold mb-2 text-dark">Обнаружение болезней</h3>
                            <p class="text-gray-600">Выявление признаков заболеваний и вредителей</p>
                        </div>
                    </div>

                    <div class="flex items-start mb-6 fade-in">
                        <div class="bg-light rounded-full p-3 mr-4">
                            <i data-feather="check-circle" class="text-primary w-6 h-6"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold mb-2 text-dark">Анализ структуры</h3>
                            <p class="text-gray-600">Оценка прочности и устойчивости дерева</p>
                        </div>
                    </div>
                </div>

                <div data-aos="fade-left">
                    <div class="flex items-start mb-6 fade-in">
                        <div class="bg-light rounded-full p-3 mr-4">
                            <i data-feather="check-circle" class="text-primary w-6 h-6"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold mb-2 text-dark">Картографирование</h3>
                            <p class="text-gray-600">Создание карт состояния зелёных насаждений</p>
                        </div>
                    </div>

                    <div class="flex items-start mb-6 fade-in">
                        <div class="bg-light rounded-full p-3 mr-4">
                            <i data-feather="check-circle" class="text-primary w-6 h-6"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold mb-2 text-dark">Отчётность</h3>
                            <p class="text-gray-600">Генерация детальных отчётов и рекомендаций</p>
                        </div>
                    </div>

                    <div class="flex items-start fade-in">
                        <div class="bg-light rounded-full p-3 mr-4">
                            <i data-feather="check-circle" class="text-primary w-6 h-6"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold mb-2 text-dark">Мониторинг</h3>
                            <p class="text-gray-600">Отслеживание изменений состояния во времени</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-20 bg-oliv">
        <div class="max-w-6xl mx-auto px-4">
            <div class="text-center mb-16 fade-in" data-aos="fade-up">
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">Наша команда</h2>
                <p class="text-lg text-white max-w-2xl mx-auto">
                    Студенты-энтузиасты, объединившиеся для создания инновационного решения в области экологии
                </p>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 fade-in" data-aos="fade-up">
                <!-- Участник 1 -->
                <div class="text-center">
                    <div class="bg-white rounded-2xl shadow-lg p-6 mb-4">
                        <img src="{{ url_for('static', filename='images/lera.jpg') }}" 
                             alt="Ивличева Валерия" 
                             class="w-32 h-32 mx-auto mb-4 rounded-full object-cover border-4 border-primary">
                        <h3 class="text-xl font-semibold mb-2">Ивличева Валерия</h3>
                        <p class="text-gray-600 text-sm">Project менеджер</p>
                    </div>
                </div>

                <!-- Участник 2 -->
                <div class="text-center">
                    <div class="bg-white rounded-2xl shadow-lg p-6 mb-4">
                        <img src="{{ url_for('static', filename='images/kira.jpg') }}" 
                             alt="Кальвинскайте Кира" 
                             class="w-32 h-32 mx-auto mb-4 rounded-full object-cover border-4 border-secondary">
                        <h3 class="text-xl font-semibold mb-2">Кальвинскайте Кира</h3>
                        <p class="text-gray-600 text-sm">Backend-разработчик</p>
                    </div>
                </div>

                <!-- Участник 3 -->
                <div class="text-center">
                    <div class="bg-white rounded-2xl shadow-lg p-6 mb-4">
                        <img src="{{ url_for('static', filename='images/ksu.jpg') }}" 
                             alt="Кузина Ксения" 
                             class="w-32 h-32 mx-auto mb-4 rounded-full object-cover border-4 border-oliv">
                        <h3 class="text-xl font-semibold mb-2">Кузина Ксения</h3>
                        <p class="text-gray-600 text-sm">Frontend-разработчик</p>
                    </div>
                </div>

                <!-- Участник 4 -->
                <div class="text-center">
                    <div class="bg-white rounded-2xl shadow-lg p-6 mb-4">
                        <img src="{{ url_for('static', filename='images/vanya.jpg') }}" 
                             alt="Карузин Иван" 
                             class="w-32 h-32 mx-auto mb-4 rounded-full object-cover border-4 border-dark">
                        <h3 class="text-xl font-semibold mb-2">Карузин Иван</h3>
                        <p class="text-gray-600 text-sm">Data Scientist</p>
                    </div>
                </div>
            </div>

            <div class="text-center mt-12 fade-in" data-aos="fade-up">
                <p class="text-white italic">
                    "Объединив наши знания в машинном обучении и веб-разработке, мы создали решение, 
                    которое делает города зеленее и безопаснее"
                </p>
            </div>
        </div>
    </section>
    <footer class="bg-dgreen text-white py-12 px-4">
        <div class="max-w-6xl mx-auto">
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">GreenScan</h3>
                    <p class="text-gray-300">Студенческий проект для хакатона</p>
                    <p class="text-gray-400 text-sm mt-2">Создано с ❤️ для зеленого будущего</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Навигация</h4>
                    <ul class="space-y-2">
                        <li><a href="#about" class="text-gray-300 hover:text-white transition">О проекте</a></li>
                        <li><a href="#demo" class="text-gray-300 hover:text-white transition">Демо</a></li>
                        <li><a href="#results" class="text-gray-300 hover:text-white transition">Результаты</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Контакты</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-300 hover:text-white transition" title="Email">
                            <i data-feather="mail"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-white transition" title="GitHub">
                            <i data-feather="github"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-white transition" title="Телеграм">
                            <i data-feather="send"></i>
                        </a>
                    </div>
                    <p class="text-gray-400 text-sm mt-4">greenscan.team@hackathon.ru</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-300">
                <p>&copy; 2025 GreenScan Team. Сделано на хакатоне.</p>
            </div>
        </div>
    </footer>
    <script>
        AOS.init({
            duration: 800,
            once: true
        });
        feather.replace();
        
        function smoothScrollTo(targetId) {
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                const offsetTop = targetElement.offsetTop - 20; // Небольшое смещение для лучшего визуального восприятия
                
                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
            }
        }
        
        document.querySelector('.demo-btn').addEventListener('click', function(e) {
            e.preventDefault();
            smoothScrollTo('#demo');
        });
        
        document.querySelector('.about-btn').addEventListener('click', function(e) {
            e.preventDefault();
            smoothScrollTo('#about');
        });
        
        
        function checkFadeElements() {
            const fadeElements = document.querySelectorAll('.fade-in');
            
            fadeElements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;
                
                if (elementTop < window.innerHeight - elementVisible) {
                    element.classList.add('visible');
                }
            });
        }
        
        window.addEventListener('load', checkFadeElements);
        window.addEventListener('scroll', checkFadeElements);

        const fileInput = document.getElementById("fileInput");
        const analyzeBtn = document.getElementById("analyzeBtn");
        const originalDiv = document.getElementById("originalImage");
        const resultDiv = document.getElementById("resultImage");

        // Функция для отображения изображения с адаптивным размером
        function displayImage(imageSrc, container, isBase64 = false) {
            container.innerHTML = '';
            const img = document.createElement("img");
            
            if (isBase64) {
                img.src = `data:image/jpeg;base64,${imageSrc}`;
            } else {
                img.src = imageSrc;
            }
            
            // Стили для адаптивного изображения
            img.className = "max-w-full max-h-[70vh] w-auto h-auto rounded-lg shadow-lg mx-auto";
            img.style.objectFit = "contain";
            
            // Автоподстройка под ориентацию
            img.onload = function() {
                if (this.naturalWidth > this.naturalHeight) {
                    // Горизонтальное - занимает больше ширины
                    this.style.maxWidth = "95%";
                    this.style.maxHeight = "60vh";
                } else {
                    // Вертикальное - занимает больше высоты
                    this.style.maxWidth = "80%";
                    this.style.maxHeight = "70vh";
                }
            };
            
            container.appendChild(img);
        }

        analyzeBtn.addEventListener("click", async () => {
            const file = fileInput.files[0];
            if (!file) {
                alert("Выберите файл сначала");
                return;
            }

            let formData = new FormData();
            formData.append("file", file);

            try {
                analyzeBtn.disabled = true;
                analyzeBtn.textContent = "Анализ...";
                
                let response = await fetch("/upload", { 
                    method: "POST", 
                    body: formData 
                });
                let result = await response.json();

                if (result.image) {
                    displayImage(result.image, resultDiv, true);
                    
                    // Показываем оригинал с тем же размером
                    const reader = new FileReader();
                    reader.onload = e => displayImage(e.target.result, originalDiv);
                    reader.readAsDataURL(file);
                    
                    // ОБНОВЛЯЕМ ТАБЛИЦУ РЕАЛЬНЫМИ ДАННЫМИ
                    if (result.table_data && result.table_data.length > 0) {
                        updateResultsTable(result.table_data);
                    }
                    
                    // Прокрутка к результатам
                    smoothScrollTo('#results');
                } else {
                    console.error("Ошибка обработки изображения:", result);
                    alert("Ошибка при обработке изображения");
                }
            } catch (err) {
                console.error("Ошибка fetch:", err);
                alert("Ошибка соединения с сервером");
            } finally {
                analyzeBtn.disabled = false;
                analyzeBtn.textContent = "Запустить анализ";
            }
        });

        // ФУНКЦИЯ ДЛЯ ОБНОВЛЕНИЯ ТАБЛИЦЫ РЕЗУЛЬТАТОВ
        function updateResultsTable(tableData) {
            const tbody = document.querySelector('.results-table tbody');
            tbody.innerHTML = ''; // Очищаем старые данные
            
            // Скрываем строку "нет результатов"
            const noResultsRow = document.getElementById('noResultsRow');
            if (noResultsRow) noResultsRow.style.display = 'none';
            
            tableData.forEach(item => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${item.id}</td>
                    <td>${item.plant_type}</td>
                    <td>${item.species}</td>
                    <td>${item.species_confidence}%</td>
                    <td>${item.status}</td>
                    <td>${item.defects_confidence}%</td>
                `;
                
                tbody.appendChild(row);
            });
            
            // Обновляем иконки feather
            feather.replace();
        }

        // ФУНКЦИЯ ДЛЯ ПОКАЗА ДЕТАЛЕЙ (можно доработать)
        function showPlantDetails(plantId) {
            alert(`Детальная информация о растении #${plantId}\n(здесь можно показать модальное окно с полной информацией)`);
        }

                fileInput.addEventListener("change", function() {
                    const file = this.files[0];
                    if (!file) return;

                    const reader = new FileReader();
                    reader.onload = e => {
                        displayImage(e.target.result, originalDiv);
                    };
                    reader.readAsDataURL(file);
                });
        
        fileInput.addEventListener("change", function() {
        const file = this.files[0];
        if (!file) return;

        // СБРАСЫВАЕМ ТАБЛИЦУ ПРИ ВЫБОРЕ НОВОГО ФАЙЛА
        resetResultsTable();

        const reader = new FileReader();
        reader.onload = e => {
            displayImage(e.target.result, originalDiv);
        };
        reader.readAsDataURL(file);
    });

    // ФУНКЦИЯ ДЛЯ СБРОСА ТАБЛИЦЫ
    function resetResultsTable() {
        const tbody = document.querySelector('.results-table tbody');
        tbody.innerHTML = '';
        
        // Восстанавливаем строку "нет результатов"
        const noResultsRow = document.createElement('tr');
        noResultsRow.id = 'noResultsRow';
        noResultsRow.innerHTML = `
            <td colspan="6" class="text-center py-8 text-gray-500">
                Загрузите изображение для анализа
            </td>
        `;
        tbody.appendChild(noResultsRow);
    }
    </script>
</body>
</html>